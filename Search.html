<!DOCTYPE html>
<html>
<head>
    <title>Search Results - The LEGO Database</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .result-box {
            background-color: #ffeb3b;
            border: 2px solid #000;
            border-radius: 10px;
            padding: 15px;
            margin: 20px auto;
            width: 600px;
            text-align: left;
        }
        .result-box img {
            width: 120px;
            height: 120px;
            margin-right: 15px;
            object-fit: cover;
        }
        .result-content {
            display: flex;
            align-items: center;
        }
        h2.section-title {
            text-align: center;
            margin-top: 40px;
            color: #000;
        }
    </style>
</head>
<body>
    <header>
        <h1>Search Results</h1>
    </header>

    <script>
        const params = new URLSearchParams(window.location.search);
        const query = params.get("query") ? params.get("query").toLowerCase() : "";

        function showResult(title, img, desc) {
            document.write(`
                <div class="result-box">
                    <div class="result-content">
                        <img src="${img}" alt="${title}">
                        <div>
                            <h2>${title}</h2>
                            <p>${desc}</p>
                        </div>
                    </div>
                </div>
            `);
        }

        // Store all sets
        const sets = [
            {title: "LEGO Ninjago", img: "Images_/ninjago.jpg", desc: "Epic battles with ninjas, dragons, and temples!"},
            {title: "LEGO Marvel", img: "Images_/marvel.jpg", desc: "Avengers, Spider-Man, Iron Man and more heroes!"},
            {title: "LEGO Star Wars", img: "Images_/starwars.jpg", desc: "Build X-Wings, the Millennium Falcon, and fight the Empire!"},
            {title: "LEGO Minifigures", img: "Images_/minifigures.jpg", desc: "Collectible characters from many LEGO themes!"}
        ];

        // Show matching results first
        let matches = sets.filter(set => query && set.title.toLowerCase().includes(query));
        if (query.includes("discounts")) {
            document.write("<h2>Discounts</h2>");
            document.write("<p>There are no discounts available at this time.</p><br>");
        }
        if (matches.length > 0) {
            document.write("<h2 class='section-title'>Matching Results</h2>");
            matches.forEach(set => showResult(set.title, set.img, set.desc));
        } else {
            document.write("<h2 class='section-title'>No direct matches found</h2>");
        }

        // Show "Our Other Sets" section for remaining sets
        const otherSets = sets.filter(set => !matches.includes(set));
        if (otherSets.length > 0) {
            document.write("<h2 class='section-title'>Our Other Sets</h2>");
            otherSets.forEach(set => showResult(set.title, set.img, set.desc));
        }
    </script>

    <br><br>
    <a href="index.html"><button>Back to Home</button></a>

    <footer>
        <p> 2025 The LEGO Database</p>
    </footer>
</body>
</html>
